<ui:FluentWindow x:Class="Dorisoy.Meeting.Client.Views.ShareRoomWindow"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                 mc:Ignorable="d"
                 Title="分享教室"
                 Height="490"
                 Width="380"
                 WindowStartupLocation="CenterOwner"
                 ExtendsContentIntoTitleBar="True"
                 WindowBackdropType="Mica"
                 WindowCornerPreference="Round"
                 ResizeMode="NoResize"
                 ShowInTaskbar="False"
                 MouseDown="Window_MouseDown"
                 Deactivated="Window_Deactivated">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 标题栏 -->
        <ui:TitleBar x:Name="TitleBar"
                     Title="分享教室"
                     Grid.Row="0"
                     ShowMaximize="False"
                     ShowMinimize="False">
            <ui:TitleBar.Icon>
                <ui:SymbolIcon Symbol="Share24" FontSize="18" />
            </ui:TitleBar.Icon>
        </ui:TitleBar>

        <!-- 主要内容 -->
        <Grid Grid.Row="1" Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- 提示文字 -->
            <TextBlock Grid.Row="0"
                       Text="扫描二维码加入房间"
                       FontSize="18"
                       FontWeight="SemiBold"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,16"/>

            <!-- 二维码图片 -->
            <Border Grid.Row="1"
                    Background="White"
                    CornerRadius="12"
                    Padding="16"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                    BorderThickness="1">
                <Image x:Name="QrCodeImage"
                       Width="200"
                       Height="200"
                       RenderOptions.BitmapScalingMode="NearestNeighbor"/>
            </Border>

            <!-- 房间号显示 -->
            <StackPanel Grid.Row="2"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Margin="0,20,0,0">
                <TextBlock Text="房间号: "
                           FontSize="16"
                           Opacity="0.7"
                           VerticalAlignment="Center"/>
                <TextBlock x:Name="RoomIdText"
                           Text="0"
                           FontSize="24"
                           FontWeight="Bold"
                           Foreground="{DynamicResource SystemAccentColorPrimaryBrush}"
                           VerticalAlignment="Center"/>
            </StackPanel>

            <!-- 复制按钮 -->
            <ui:Button Grid.Row="3"
                       x:Name="CopyButton"
                       Content="复制邀请信息"
                       Icon="{ui:SymbolIcon Copy24}"
                       HorizontalAlignment="Stretch"
                       Margin="0,20,0,0"
                       Click="CopyButton_Click"/>

            <!-- 提示信息 -->
            <TextBlock Grid.Row="4"
                       Text="点击窗口外部区域关闭"
                       FontSize="11"
                       Opacity="0.4"
                       HorizontalAlignment="Center"
                       Margin="0,16,0,0"/>
        </Grid>
    </Grid>
</ui:FluentWindow>
